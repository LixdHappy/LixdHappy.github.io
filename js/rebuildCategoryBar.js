function rebuildCategoryBar(){const e=document.querySelector("#catalog-list");if(!e)return;e.querySelectorAll("#首页, #隧道").forEach(e=>e.remove()),document.querySelectorAll(".category-bar-next, .catalog-more, .category-bar-more-group").forEach(e=>e.remove());const t=e=>e.replace(/^\/|\/$/g,"").replace(/index\.html$/i,""),a=Array.from(e.querySelectorAll(".catalog-list-item")),r=t(location.pathname);let n=a.find(e=>{const a=t(e.getAttribute("id")||"");return a&&a===r});e.innerHTML="",n&&e.appendChild(n);const o=document.createElement("div");o.className="catalog-list-item",o.id="首页";const c=document.createElement("a");c.href="/",c.setAttribute("gbtip","查看所有精选文章"),c.textContent="精选",o.appendChild(c),e.appendChild(o);const i=document.createElement("div");i.className="catalog-list-item",i.id="隧道";const l=document.createElement("a");l.href="/archives/",l.setAttribute("gbtip","查看所有文章"),l.textContent="全部文章",i.appendChild(l),e.appendChild(i),a.forEach(t=>{t!==n&&e.appendChild(t)});const d=document.createElement("div");d.className="category-bar-more-group";const s=document.createElement("div");s.className="category-bar-next",s.id="category-bar-next",s.setAttribute("onclick","anzhiyu.scrollCategoryBarToRight()"),s.setAttribute("gbtip","分类条翻页"),s.innerHTML='<i class="anzhiyufont anzhiyu-icon-angle-double-right"></i>',d.appendChild(s);const m=document.createElement("a");m.className="category-bar-more",m.href="/categories/",m.setAttribute("gbtip","查看所有分类"),m.textContent="更多",d.appendChild(m),e.after(d),s.addEventListener("click",()=>{e.scrollWidth>e.clientWidth?s.classList.toggle("rotated"):s.classList.remove("rotated")})}document.addEventListener("DOMContentLoaded",rebuildCategoryBar),window.addEventListener("pjax:success",rebuildCategoryBar);